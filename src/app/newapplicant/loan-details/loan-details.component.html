<div class="container">
  <h2 class="title">{{"Loan Details" | translate}}</h2>
  <form [formGroup]="loanDetails" (ngSubmit)="loanSave(loanDetails.value)">
    <!-- <ion-item>
      <ion-label>Loan Type</ion-label>
      <ion-select interface="action-sheet" formControlName="loanType">
        <ion-select-option *ngFor="let loan of loanProductList" [value]="loan.code">
          {{loan.Name}}
        </ion-select-option>
      </ion-select>
    </ion-item> -->

    <div class="item">
      <ion-item>
        <ion-label position="floating">{{"Amount Requested" | translate}} <span> (Rs) </span> <span
            class="mandatory">*</span>
        </ion-label>
        <ion-input formControlName="amountRequested" type="tel" maxlength="13"></ion-input>
      </ion-item>
      <div>
        <ng-container *ngFor="let validation of validation_messages.amountRequested">
          <div class="mandatory"
            *ngIf="loanDetails.get('amountRequested').hasError(validation.type) && (loanDetails.get('amountRequested').dirty || loanDetails.get('amountRequested').touched)">
            <p class="marginLR0pxTB5px">{{validation.message | translate}}</p>
          </div>
        </ng-container>
      </div>
    </div>

    <div class="item">
      <ion-item>
        <ion-label>{{"Interest Type" | translate}} <span class="mandatory">*</span></ion-label>
        <ion-select interface="action-sheet" formControlName="interestType">
          <ion-select-option *ngFor="let product of interestTypeList" [value]="product.code">
            {{product.Name | translate}}</ion-select-option>
        </ion-select>
      </ion-item>
      <div>
        <ng-container *ngFor="let validation of validation_messages.interestType">
          <div class="mandatory"
            *ngIf="loanDetails.get('interestType').hasError(validation.type) && (loanDetails.get('interestType').dirty || loanDetails.get('interestType').touched)">
            <p class="marginLR0pxTB5px">{{validation.message | translate}}</p>
          </div>
        </ng-container>
      </div>
    </div>

    <div class="item">
      <ion-item>
        <ion-label position="floating">{{"Periodicity of Installments (Months)" | translate}} <span
            class="mandatory">*</span></ion-label>
        <ion-input type=tel formControlName="tenure"></ion-input>
      </ion-item>
      <div>
        <ng-container *ngFor="let validation of validation_messages.tenure">
          <div class="mandatory"
            *ngIf="loanDetails.get('tenure').hasError(validation.type) && (loanDetails.get('tenure').dirty || loanDetails.get('tenure').touched)">
            <p class="marginLR0pxTB5px">{{validation.message | translate}}</p>
          </div>
        </ng-container>
      </div>
    </div>

    <div class="item">
      <ion-item>
        <ion-label position="floating">{{"Moratorium (Months)" | translate}} </ion-label>
        <ion-input type=tel formControlName="moratorium"></ion-input>
      </ion-item>
      <div>
        <ng-container *ngFor="let validation of validation_messages.moratorium">
          <div class="mandatory"
            *ngIf="loanDetails.get('moratorium').hasError(validation.type) && (loanDetails.get('moratorium').dirty || loanDetails.get('moratorium').touched)">
            <p class="marginLR0pxTB5px">{{validation.message | translate}}</p>
          </div>
        </ng-container>
      </div>
    </div>

    <div class="item">
      <ion-item>
        <ion-label> {{"Repayment Type" | translate}} <span class="mandatory">*</span></ion-label>
        <ion-select interface="action-sheet" formControlName="repaymentType">
          <ion-select-option *ngFor="let repaymentType of repaymenttypeList" [value]="repaymentType.code">
            {{repaymentType.Name | translate}}
          </ion-select-option>
        </ion-select>
      </ion-item>
      <div>
        <ng-container *ngFor="let validation of validation_messages.repaymentType">
          <div class="mandatory"
            *ngIf="loanDetails.get('repaymentType').hasError(validation.type) && (loanDetails.get('repaymentType').dirty || loanDetails.get('repaymentType').touched)">
            <p class="marginLR0pxTB5px">{{validation.message | translate}}</p>
          </div>
        </ng-container>
      </div>
    </div>

    <div class="item">
      <ion-item>
        <ion-label>{{"Mode of Repayment" | translate}} <span class="mandatory">*</span></ion-label>
        <ion-select interface="action-sheet" formControlName="repaymentMode">
          <ion-select-option *ngFor="let repaymentMode of repaymentModeList" [value]="repaymentMode.code">
            {{repaymentMode.Name | translate}}
          </ion-select-option>
        </ion-select>
      </ion-item>
      <div>
        <ng-container *ngFor="let validation of validation_messages.repaymentMode">
          <div class="mandatory"
            *ngIf="loanDetails.get('repaymentMode').hasError(validation.type) && (loanDetails.get('repaymentMode').dirty || loanDetails.get('repaymentMode').touched)">
            <p class="marginLR0pxTB5px">{{validation.message | translate}}</p>
          </div>
        </ng-container>
      </div>
    </div>

    <!-- product
    producttype
    loan_amount_range
    loanpurpose
    mclr
    proposalType
    amortization -->

    <div class="item">
      <div class="buttspace roundbtn" class="ion-text-center">
        <ion-button [disabled]="loanDetails.invalid" type="submit" shape="round">{{"Save" | translate}} </ion-button>
      </div>
    </div>

  </form>
</div>