<div class="backdrop"></div>
<ion-card class="progress_box">
  <ion-icon *ngIf="successClose" class="close_icon" name="close-outline" (click)="close()" slot="end"></ion-icon>
  <div class="progress">
    <svg *ngIf="zipUpload" class="progress__svg" width="180" height="150" viewBox="0 0 180 150">

      <circle class="progress__meter" cx="90" cy="60" [attr.r]="radius" stroke-width="12" />
      <circle class="progress__value" [style.strokeDasharray]="circumference" [style.strokeDashoffset]="zipDashOffSet"
        cx="90" cy="60" [attr.r]="radius" stroke-width="12" />


      <text font-size="1.7em" transform="rotate(90 90,70)" x="47%" y="50%" dominant-baseline="middle"
        text-anchor="middle">

      </text>
      <polyline *ngIf='setImageProcess.ZipSuccess' transform="rotate(90 77,77)" class="path check" fill="none"
        stroke="#73AF55" stroke-width="12" stroke-linecap="round" stroke-miterlimit="10"
        points="90.2,40.2 51.5,88.8 29.8,67.5" />
    </svg>
    <ion-icon *ngIf="zipUpload  && !setImageProcess.ZipSuccess" class="uploadIcon" name="cloud-upload-outline">
    </ion-icon>

    <svg *ngIf='setImageProcess.imgFailure' version="1.1" class="progress__svg" id="Capa_1"
      xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
      viewBox="0 0 297 297" style="width: 50px" fill='red' xml:space="preserve">
      <g>
        <path d="M293.805,219.495l-71.019-71.003l70.998-71.015c4.258-4.259,4.256-11.163-0.002-15.422L234.921,3.194
     C232.875,1.149,230.101,0,227.209,0c-2.893,0-5.667,1.15-7.712,3.196l-70.999,71.025L77.477,3.219
     c-4.26-4.258-11.162-4.257-15.422,0.001L3.194,62.081C1.149,64.127,0,66.901,0,69.794c0,2.893,1.15,5.666,3.196,7.711l71.035,71.01
     L3.248,219.525c-4.257,4.258-4.257,11.16,0,15.419l58.834,58.859c2.045,2.046,4.819,3.196,7.712,3.196h0.001
     c2.893,0,5.667-1.149,7.712-3.195l71.013-71.029l71.005,70.979c4.258,4.258,11.161,4.258,15.419,0l58.86-58.834
     c2.046-2.045,3.196-4.819,3.196-7.713C297,224.315,295.851,221.541,293.805,219.495z" />
      </g>
      <g></g>
      <g></g>
      <g></g>
      <g></g>
      <g></g>
      <g></g>
      <g></g>
      <g></g>
      <g></g>
      <g></g>
      <g></g>
      <g></g>
      <g></g>
      <g></g>
      <g></g>
    </svg>

    <svg *ngIf="docUpload" class="progress__svg" width="180" height="150" viewBox="0 0 180 150">
      <circle class="progress__meter" cx="90" cy="60" r="67" stroke-width="12" />
      <circle class="progress__value" [style.strokeDasharray]="circumference_outside"
        [style.strokeDashoffset]="dashoffset_outside" cx="90" cy="60" r="67" stroke-width="12" />
      <circle *ngIf='setImageProcess.imgProcess' class="progress__meter" cx="90" cy="60" [attr.r]="radius"
        stroke-width="12" />
      <circle *ngIf='setImageProcess.imgProcess' class="progress__value" [style.strokeDasharray]="circumference"
        [style.strokeDashoffset]="dashoffset" cx="90" cy="60" [attr.r]="radius" stroke-width="12" />
      <text *ngIf='setImageProcess.imgProcess' font-size="1.7em" transform="rotate(90 90,70)" x="47%" y="50%"
        dominant-baseline="middle" text-anchor="middle">{{progressInside}}%</text>
      <polyline *ngIf='setImageProcess.imgSuccess' transform="rotate(90 77,77)" class="path check" fill="none"
        stroke="#73AF55" stroke-width="12" stroke-linecap="round" stroke-miterlimit="10"
        points="90.2,40.2 51.5,88.8 29.8,67.5" />
      <!-- <line *ngIf='setImageProcess.imgFailure' class="path line" fill="none" stroke="#D06079" stroke-linecap="round
        " stroke-miterlimit="10" stroke-width="12" x1="54.4" x2="125.8" y1="27.9" y2="92.3"></line>
      <line *ngIf='setImageProcess.imgFailure' class="path line" fill="none" stroke="#D06079" stroke-linecap="round
        " stroke-miterlimit="10" stroke-width="6" x1="125.8" x2="54.4" y1="28" y2="92.2"></line> -->
    </svg>
  </div>
  <ion-list>
    <ion-item lines="none">
      <ion-label>Document Process</ion-label>
      <ion-badge>{{imgStartCount}} / {{imgTotalCount}}</ion-badge>
    </ion-item>

    <ion-item lines="none" *ngIf="alreadyUploaded != 0">
      <ion-label>Already Uploaded</ion-label>
      <ion-badge>{{alreadyUploaded}}</ion-badge>
    </ion-item>
    <ion-item *ngIf="showButton" lines="none">
      <ion-button type='button' shape="round" (click)="retry()">Re-Upload
      </ion-button>
    </ion-item>

    <ion-item *ngIf="showZipButton" lines="none">
      <ion-button type='button' shape="round" (click)="zipRetry()">Re-Upload
      </ion-button>
    </ion-item>

    <ion-item *ngIf="showButton||showZipButton" lines="none">
      <ion-button type='button' color="danger" shape="round" (click)="close()">Cancel
      </ion-button>
    </ion-item>

    <ion-item lines="none" *ngIf="successClose">
      <ion-button type='button' shape="round" (click)="close()">Done</ion-button>
    </ion-item>
  </ion-list>
</ion-card>